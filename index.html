<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>New Tab</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ysabeau+Office:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #272e33;
        --box: #1e2326;

        --titles: #a7c080;
        --time: #a7c080;
        --info: #d3c6aa;

        --link: #d3c6aa;
        --hover: #a7c080;

        --poem: #62736e;

        --border: #3c4841;
        --image-border: #3c4841;

        --v-gap: 24px;
        --quote-gap: 12px;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body {
        margin: 0;
        background: url("images/2.jpg");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        font-family: "Ysabeau Office", system-ui, -apple-system, "Segoe UI",
          Roboto, Arial, sans-serif;
        font-size: 120%;
      }

      .page {
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      /* top info boxes */
.top-bar {
  padding: var(--v-gap) var(--v-gap) var(--quote-gap) var(--v-gap);
  display: flex;
  justify-content: center;
}

      .top-row {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .info-box {
        background:
          url("images/tile.jpg") repeat,
          var(--box);
        background-size: 384px 384px;
        padding: 12px 16px;
        font-weight: 600;
        font-size: 24px;
        white-space: nowrap;
        border: 3px solid var(--border);
      }


       #time {
        color: var(--time);
      }

       #weather, {
          color: var(--info);
        }
     
      #light {
        color: var(--info);
      }

      /* quote line */
      .quote-row {
        display: flex;
        justify-content: center;
        margin: var(--quote-gap) 0;
      }

      .quote-box {
        background:
          url("images/tile.jpg") repeat,
          var(--box);
        background-size: 256px 256px;
        padding: 16px 22px;
        border: 3px solid var(--border);
        color: var(--poem);
        font-size: 18px;
        text-align: center;
        max-width: 900px;
      }

      /* main layout */
      .main {
        flex: 1;
        display: grid;
        grid-template-columns: 1fr max-content 1fr;
        align-items: start;
        padding: var(--quote-gap) 28px 0 28px;
        column-gap: 32px;
      }

      /* left column */
      .left-column {
        grid-column: 1;
        justify-self: end;
        display: flex;
        flex-direction: column;
        gap: var(--v-gap);
      }

      .hawk {
        height: 400px;
        width: auto;
        border: 3px solid var(--image-border);
      }

      /* center column */
      .center-column {
        grid-column: 2;
        justify-self: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: var(--v-gap);
      }

      .box {
        background:
          url("images/tile.jpg") repeat,
          var(--box);
        background-size: 256px 256px;
        padding: 28px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 28px;
        border: 3px solid var(--border);
      }

      .col h2 {
        margin: 0 0 14px 0;
        font-weight: 600;
        font-size: 20px;
        color: var(--titles);
        text-decoration: underline;
        text-underline-offset: 4px;
      }

      .col ul {
        margin: 0;
        padding: 0;
        list-style: none;
      }

      .col li {
        margin: 0 0 10px 0;
      }

a {
  color: var(--link);
  text-decoration: none;
}

a:hover {
  color: var(--hover);
  text-decoration-line: underline;
  text-decoration-style: dashed;
  text-underline-offset: 3px;
}

      .creosote {
        width: 100%;
        max-width: 432px;
        border: 3px solid var(--image-border);
      }

      /* poem boxes */
      .poem-box {
        background:
          url("images/tile.jpg") repeat,
          var(--box);
        background-size: 256px 256px;
        padding: 28px;
        color: var(--poem);
        font-size: 18px;
        line-height: 1.4;
        white-space: pre-line;
        border: 3px solid var(--border);
        max-width: 400px;
      }

      .poem-box em {
        font-style: italic;
      }

      /* right column */
      .right-column {
        grid-column: 3;
        display: flex;
        flex-direction: column;
        gap: var(--v-gap);
      }

      .jackrabbit {
        width: 100%;
        max-width: 400px;
        border: 3px solid var(--image-border);
      }
    </style>
  </head>

  <body>
    <div class="page">
      <div class="top-bar">
        <div class="top-row">
          <div class="info-box" id="time">--:--</div>
          <div class="info-box" id="weather">--° --</div>
          <div class="info-box" id="light">--:-- / --:--</div>
        </div>
      </div>

      <div class="quote-row">
        <div class="quote-box">
          He felt in his heart cruelty and cowardice, the things which made him brave and kind.
        </div>
      </div>

      <div class="main">
        <div class="left-column">
          <img src="images/hawk.png" alt="Hawk" class="hawk" />

          <div class="poem-box">Not all those who pass

In front of the Great Mother's chair

Get passt with only a stare.

Some she looks at their hands

To see what sort of savages they were.
          </div>
        </div>

        <div class="center-column">
          <div class="box">
            <section class="col">
              <h2>Dev</h2>
              <ul>
                <li><a href="https://github.com/dware837/newtablinux/blob/main/index.html">GitHub</a></li>
                <li><a href="https://1904.neocities.org/">Site</a></li>
                <li><a href="https://neocities.org/dashboard">Site Dev</a></li>
                <li><a href="https://neocities.org/site/1904">Site Profile</a></li>
              </ul>
            </section>

            <section class="col">
              <h2>Media</h2>
              <ul>
                <li><a href="https://lichess.org/">Chess</a></li>
                <li><a href="http://localhost:8096/web/index.html#/home">JellyFin</a></li>
                <li><a href="https://rateyourmusic.com/~valuska">RYM</a></li>
                <li><a href="https://www.youtube.com/">YouTube</a></li>
              </ul>
            </section>

            <section class="col">
              <h2>Work</h2>
              <ul>
                <li><a href="https://chatgpt.com/">ChatGPT</a></li>
                <li><a href="https://mail.google.com/mail/u/0/#inbox">Gmail</a></li>
                <li><a href="https://drive.google.com/drive/my-drive">Google Drive</a></li>
                <li><a href="https://outlook.office.com/mail/">Outlook</a></li>
                <li><a href="https://drive.proton.me/">Proton Drive</a></li>
                <li><a href="https://mail.proton.me/u/0/inbox">Proton Mail</a></li>
              </ul>
            </section>
          </div>

          <img src="images/creosote.png" alt="Creosote bush" class="creosote" />
        </div>

        <div class="right-column">
          <div class="poem-box"><em>Have you noticed?</em> how the rain
falls soft as the fall
of moccasins. <em>Have you noticed?</em>
how the immense circles still,
stubbornly, after a hundred years,
mark the grass where the rich droppings
from the roaring bulls
fell to earth as the herd stood
day after day, moon after moon
in their tribal circle, outwaiting
the packs of yellow-eyed wolves that are also
have you noticed? gone now.</div>

          <img src="images/jackrabbit.png" alt="Jackrabbit" class="jackrabbit" />
        </div>
      </div>
    </div>

    <script>
      const LAT = 35.3733;
      const LON = -119.0187;
      const TZ = "America/Los_Angeles";

      function formatTime(date) {
        const parts = new Intl.DateTimeFormat("en-US", {
          timeZone: TZ,
          hour: "numeric",
          minute: "2-digit",
          hour12: true,
        }).formatToParts(date);

        const hour = parts.find((p) => p.type === "hour")?.value ?? "--";
        const minute = parts.find((p) => p.type === "minute")?.value ?? "--";
        return `${hour}:${minute}`;
      }

      function updateTime() {
        document.getElementById("time").textContent = formatTime(new Date());
      }

      function weatherDescriptorFromCode(code) {
        if (code === 0) return "Clear";
        if (code === 1) return "Mostly Clear";
        if (code === 2) return "Partly Cloudy";
        if (code === 3) return "Cloudy";
        if (code === 45 || code === 48) return "Fog";
        if ([51, 53, 55].includes(code)) return "Drizzle";
        if ([56, 57].includes(code)) return "Freezing";
        if ([61, 63, 65].includes(code)) return "Rain";
        if ([66, 67].includes(code)) return "Freezing Rain";
        if ([71, 73, 75, 77].includes(code)) return "Snow";
        if ([80, 81, 82].includes(code)) return "Showers";
        if ([85, 86].includes(code)) return "Snow Showers";
        if (code === 95) return "Storm";
        if ([96, 99].includes(code)) return "Hail";
        return "--";
      }

      async function updateWeather() {
        try {
          const url =
            `https://api.open-meteo.com/v1/forecast?latitude=${LAT}` +
            `&longitude=${LON}&current_weather=true&temperature_unit=fahrenheit`;
          const res = await fetch(url);
          if (!res.ok) return;

          const data = await res.json();
          const temp = data?.current_weather?.temperature;
          const code = data?.current_weather?.weathercode;

          const t = typeof temp === "number" ? `${Math.round(temp)}°` : "--°";
          const d = typeof code === "number" ? weatherDescriptorFromCode(code) : "--";

          document.getElementById("weather").textContent = `${t} ${d}`;
        } catch (_) {}
      }

      async function updateFirstLastLight() {
        try {
          const res = await fetch(
            `https://api.sunrise-sunset.org/json?lat=${LAT}&lng=${LON}&formatted=0`
          );
          if (!res.ok) return;

          const data = await res.json();
          const begin = data?.results?.civil_twilight_begin;
          const end = data?.results?.civil_twilight_end;
          if (!begin || !end) return;

          document.getElementById("light").textContent =
            `${formatTime(new Date(begin))} / ${formatTime(new Date(end))}`;
        } catch (_) {}
      }

      updateTime();
      updateWeather();
      updateFirstLastLight();

      setInterval(updateTime, 1000 * 30);
      setInterval(updateWeather, 1000 * 60 * 10);
      setInterval(updateFirstLastLight, 1000 * 60 * 60);
    </script>
  </body>
</html>

